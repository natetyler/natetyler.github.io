<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Random Quotes</title>
    <link href="stylesheets/bootstrap.min.css" rel="stylesheet">
    <link href="stylesheets/app.css" rel="stylesheet">
    <script src="javascripts/jquery-2.0.2.min.js"></script>
    <script src="javascripts/wikiquote-api.js"></script>
    <script type="text/javascript">
      $(document).ready(function(){

        function quoteReady(newQuote) {
          $quoteDiv.html($('<p style="display:none;">' + newQuote + '</p>'));
          $(".quotes p:hidden").fadeIn(400);
        }

        $(".search-form").submit(function() {
          $quoteDiv = $(this).parent().find(".quotes");
          $quoteDiv.find("p").fadeOut(400);
          var $input = $(this).find("input:text");
          $input.val(WikiquoteApi.capitalizeString($input.val()));
          WikiquoteApi.getRandomQuote($input.val(), 
            quoteReady, 
            function(msg){
              alert(msg);
            }
          );

          return false;
        });
      });
    </script>
  </head>

  <body>
    <div class="container">
      <div class="header">
        <h1>RANDOM QUOTE</h1>
        <h4>Get a random quote using the wikiquote.org api</h3>
        <a id="forkme_banner" href="https://github.com/natetyler">View on GitHub</a>
      </div>

      <div>
        <form class="search-form" method="post">
          <input id="search-box" class="search-box" type="text" />
          <input type="submit" value="Search" class="button btn" />
        </form>
        <div class="quotes"></div>
      </div>

    </div>
  </body>
</html>